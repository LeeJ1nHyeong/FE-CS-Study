# 함수형 프로그래밍(Functional Programming, FP)

- 설명

함수형 프로그래밍은 **순수 함수**와 **불변성**을 기반으로 하는 프로그래밍 패러다임입니다. 어떻게 문제를 해결할지 정의하는 것에 집중하며 **절차적으로** 코드를 작성하며 변수가 가진 상태를 바꾸는 명령형 프로그래밍과 달리 함수형 프로그래밍에서는 무엇을 하는지에 관심을 가져 선언형 프로그래밍 패러다임을 따르고 있습니다.

명령형 프로그래밍에서의 함수는 함수가 외부의 값을 변환시키거나 그 값에 따라 다른 결과 값을 내는 부작용이 생길 수 있습니다. 반대로 함수형 프로그래밍 패러다임을 따르는 함수에서는 함수의 출력값은 함수에 입력된 인수에만 의존하므로 수학의 함수와 같이 f(x)와 같은 형태로 표현이 가능합니다. 즉 같은 인자를 넣고 실행한 함수는 항상 같은 값을 반환하며 자료의 처리를 수학적 함수의 계산으로 취급합니다. 그래서 함수를 그 **함수나 식을 동일한 결과를 반환하는 다른 함수나 표현식으로 대체하여도 프로그램은 동일한 동작을 수행**합니다. 함수형 프로그래밍에서는 이를 **참조 투명성**이라고 부릅니다. 이런 참조 투명성을 지키기 위해 **불변성**을 유지하여야 하는데, 한 번 값이 정의되면 그 값을 변경하지 않는 것을 의미합니다. 함수형 프로그래밍에서 값을 변경하려면 값을 복사한 뒤 새로운 변수에 할당하는 방식을 사용하여야 합니다.

## 순수 함수

순수 함수는 수학의 함수처럼 **같은 입력에 대해 항상 같은 결과를 반환**하며, 함수 내부에서 side effect가 발생하지 않는 함수를 의미합니다. 여기서 말하는 side effect는 함수 외부의 상태 혹은 데이터를 변경하는 행위를 말합니다. 만약 외부 변수를 수정하거나 읽는 등 외부의 데이터를 사용한다면 함수는 같은 입력이더라도 다른 결과를 반환할 수 있기 때문입니다.

## 예상 꼬리 질문

- 순수 함수를 만들기 위해선 어떻게 코드를 작성하여야 하나요?

  순수 함수를 지키기 위해서는 불변성을 지켜야 하는데 불변성은 상태를 변경할 필요가 있을 때, 그 상태를 복사한 뒤 새로운 상태에 대해 변경을 가하는 방식입니다. 값이나 데이터 구조를 한 번 정의하면 변경하지 않아야 하며, **변경이 필요할 때는 새로운 값을 만들어 반환**해야 합니다. 만약 함수가 어떤 상태를 변경한다면 같은 입력에 대해 같은 결과를 보장할 수 없기 때문입니다.

- 함수형 프로그래밍 패러다임을 만족하기 위해 필요한 다른 조건은 무엇이 있나요?

  함수형 프로그래밍 패러다임을 만족하기 위해 지켜야할 다른 조건은 함수가 **일급 객체**여야 한다는 것입니다. 함수가 일급 객체라는 말은 함수가 다른 값들과 동등하게 취급된다는 의미입니다. 따라서 함수는 변수에 할당되거나 함수의 인자 또는 반환 값으로 쓰일 수 있습니다. 이를 통해 콜백 함수, 고차 함수 등 함수를 다양하게 활용할 수 있습니다.

- 함수형 프로그래밍의 장단점을 설명해주세요.

  순수 함수는 동일 입력에 대해 동일한 값을 반환하기 때문에 함수의 예측 가능성이 높습니다. 그리고 함수의 부작용이 없고 불변성을 유지하기 때문에 테스트 코드의 작성이 쉽습니다. 그리고 고차함수나 콜백 함수 등 다양한 활용을 할 수 있습니다.

  반면 함수형 프로그래밍의 단점으로는 불변성을 유지하기 위해 데이터를 복사하는 과정에서 메모리 사용량이 증가하고 성능이 저하될 수 있습니다. 그리고 현실에서 네트워크 통신 등에서는 같은 입력에 같은 출력을 보장하는 것이 불가능한 상황이 많아 이런 작업을 함수형으로 처리하기는 어렵습니다. 이런 단점을 보완하기 위해 절차적 프로그래밍 또는 객체 지향 프로그래밍 등과 혼용하는 방식으로 코드 작성을 할 수 있습니다.

## 참고 자료

[함수형 프로그래밍](https://ko.wikipedia.org/wiki/%ED%95%A8%EC%88%98%ED%98%(95_%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D)
[함수형 프로그래밍 HOWTO](https://docs.python.org/ko/3/howto/functional.html)
